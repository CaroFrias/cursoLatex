# La opción Pandoc

Allá por los inicios del cursete de LaTeX hablé de Pandoc, una
herramienta que transforma documentos de un formato a otro fácilmente
y, sobre todo, *bien*. Comenté que Pandoc nos permitía escribir en
Markdown y obtener un *pdf* de calidad porque por el medio usaba
LaTeX, hoy vamos a ver cómo se hace

Ventajas:

* No nos deja archivos auxiliares por ahí, los borra una vez hecha la
  transformación.

* Tecleamos menos, ya que Markdown es un lenguaje mucho más escueto
  que LaTeX

* Markdown especial de Pandoc que tiene más funcionalidades que el
  Markdown estricto, notas al pie,
  cambiar el tamaño de las imágenes

* El documento es legible incluso antes de compilar

* Podemos usar cualquier editor de texto

* Podemos mezclar LaTeX alegremente por ahí, alguna vez me ha dado
  problemas, pero pocos

* Salidas a diferentes formatos

* Aumentar funcionalidad mediante filtros

Como todo no puede ser bueno, también tiene unas pocas desventajas:

* Más archivos, si es un documento complejo necesitaremos un Makefile

* Instalarlo puede ser un poco lío, sobre todo los filtros

* Tenemos que saber LaTeX (pero ya sabemos ¿no?), Markdown (que se
  aprende en diez minutos) y Pandoc (otros diez minutos)

# Instalación y uso

Versión antigua en los repositorios
Paquete Debian
Cabal, el gestor de paquetes de Haskell

Citeproc + crossref

Se usa desde la consola
Nos vamos a centrar en el caso de crear un *pdf* a partir de uno o
varios archivos escritos en Markdown

```bash
pandoc INPUT.md -o OUTPUT.pdf
``` 

* Compilador
* Variables

# ¿Qué necesitamos?

En esencia necesitamos

* Archivos escritos en Mardown con extensión *md*

* Pandoc y una distribución de LaTeX

* Una consola

* Si vamos a tener referencias bibliográficas, un archivo *bib* y un
  estilo de bibliografía *csl*

* Una plantilla si la que usa por defecto no nos gusta

Para hacernos la vida más fácil nos conviene:

* Un archivo YAML para las variables

* Un Makefile y `make`

## Plantilla personalizada

Pandoc transforma usando una plantilla para cada tipo de formato

La extraemos redireccionando la salida

```bash
pandoc -D FORMATO > OUTPUT
```

* variables

$body$

## YAML

Todas las variables que aparecen en la plantilla podemos sustituirlas
con valores mediante un archivo YAML

Además de con la opción -V

```
# Datos
title: Título 
author: Nombre
lang: spanish
# Formato
documentclass: book
geometry:
fontsize: 12pt
```

* Márgenes

```
geometry:
```

* Idioma

```
lang: es
```

* Fuente: 

https://ondahostil.wordpress.com/2017/03/11/lo-que-he-aprendido-margenes-y-fuentes-en-pandoc/

## Makefile


## Referencias

[Manual de Pandoc]()

[*Sustainable Authorship in Plain Text using Pandoc and Markdown*](http://programminghistorian.org/lessons/sustainable-authorship-in-plain-text-using-pandoc-and-markdown)

[*Pandoc's markdown*](http://pandoc.org/MANUAL.html#pandocs-markdown)
